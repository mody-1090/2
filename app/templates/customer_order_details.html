{% extends "base.html" %}

{% block content %}
<div class="container mt-5">
  <div class="card shadow">
    <div class="card-header bg-info text-white text-center">
      <h4 class="mb-0">
        <i class="bi bi-receipt"></i> ุชูุงุตูู ุงูุทูุจ
      </h4>
    </div>
    
    <div class="card-body">
      
      <!-- ๐ ุชุนุฑูู ุงููุณุชูุฏ ุญุณุจ ุงูุญุงูุฉ -->
      <div class="alert {% if participant.status == 'under_review' %}alert-warning text-dark
                        {% elif participant.status == 'approved' %}alert-success
                        {% else %}alert-danger{% endif %}">
        {% if participant.status == "under_review" %}
          ๐น ูุฐุง ุงููุณุชูุฏ ููุซู <strong>ุณูุฏ ุงุณุชูุงู ุทูุจูุฉ</strong>ุ ููู ููุฏ ุงููุฑุงุฌุนุฉ ูู ูุจู ุงูุฅุฏุงุฑุฉ.
        {% elif participant.status == "approved" %}
          โ ูุฐุง ุงููุณุชูุฏ ููุซู <strong>ุณูุฏ ุงุณุชูุงู ูุจูุบ</strong> ููุงุจุฉ ุนู ุงูููุฑุฏุ ุญูุซ ุชูุช ุงูููุงููุฉ ุนูู ุงูุทูุจูุฉ ุฑุณูููุง.
        {% else %}
          โ ูุฐุง ุงููุณุชูุฏ ูุนุชุจุฑ <strong>ููุบู</strong>. ูู ุญุงู ุชู ุฑูุถ ุงูุทูุจ ุจุงูุฎุทุฃ ุฃู ูุฃุณุจุงุจ ุฃุฎุฑูุ ูุนุชุจุฑ ุฅูุตุงู ุงูุชุญููู ุจูุซุงุจุฉ <strong>ุณูุฏ ุงุณุชุฑุฌุงุน</strong>.
        {% endif %}
      </div>

      <h5 class="text-center mb-4">๐ฆ ุฑูู ุงูุทูุจ: {{ participant.id }}</h5>

      <!-- ๐ ุชูุงุตูู ุงูุทูุจ -->
      <ul class="list-group">
        <li class="list-group-item"><strong>๐ช ุงููุชุฌุฑ:</strong> {{ participant.store_name }}</li>
        <li class="list-group-item"><strong>๐ค ุงุณู ุงููุณุคูู:</strong> {{ participant.responsible_person }}</li>
        <li class="list-group-item"><strong>๐ ุงููููุน:</strong> {{ participant.location }}</li>
        <li class="list-group-item"><strong>๐ฆ ุนุฏุฏ ุงููุฑุงุชูู ุงููุทููุจุฉ:</strong> {{ participant.cartons_requested }}</li>
        <li class="list-group-item"><strong>๐ ููุน ุงูููุชุฌ:</strong> {{ participant.order.name }}</li>
        <li class="list-group-item"><strong>๐ฐ ุงููุจูุบ ุงููุฏููุน:</strong> {{ participant.cartons_requested * participant.order.price_per_carton }} ุฑูุงู</li>
        <li class="list-group-item"><strong>๐ ุญุงูุฉ ุงูุทูุจ:</strong>
          {% if participant.status == "under_review" %}
            <span class="badge bg-warning text-dark">โณ ููุฏ ุงููุฑุงุฌุนุฉ</span>
          {% elif participant.status == "approved" %}
            <span class="badge bg-success">โ ููุจูู</span>
          {% else %}
            <span class="badge bg-danger">โ ูุฑููุถ</span>
          {% endif %}
        </li>
      </ul>
   



      {% if participant_features %}
  <div class="mt-4">
    <h5>๐จ ูููุฒุงุช ุงูุทูุจ ุงููุณุฌูุฉ ููุฐุง ุงูุนููู:</h5>
    <ul class="list-group">
      {% for pf in participant_features %}
        <li class="list-group-item">
          <strong>ููุฒุฉ ุฑูู {{ pf.feature_id }}</strong> - 
          <span class="badge bg-primary">{{ pf.quantity }} ูุฑุชููุฉ</span>
        </li>
      {% endfor %}
    </ul>
  </div>
{% else %}
  <p class="text-muted">โ๏ธ ูู ูุชู ุชุณุฌูู ุฃู ููุฒุงุช ููุฐุง ุงูุนููู.</p>
{% endif %}



<!-- โ๏ธ ุชูุจูู ุงูุนููู ุจุงูุงุญุชูุงุธ ุจุงูุฑุงุจุท -->
<div class="mt-4 p-3 border rounded bg-light">
  <h5>๐ ุงุญุชูุธ ุจูุฐุง ุงูุฑุงุจุท!</h5>
  <p>
    ๐น ูุฐุง ุงูุฑุงุจุท ููุซู ูุซููุฉ ุฅููุชุฑูููุฉ ูุทูุจูุ ููู <strong>ูุณุชูุฏ ุฑุณูู ูุนุชูุฏ</strong> ูุนูุณ ุญุงูุชู ูู ุงููุธุงู.  
    ูุฌุจ ุนููู ุงูุงุญุชูุงุธ ุจู .
  </p>
  
  <h5>โ๏ธ ููู ูุญูุธ ูุฐุง ุงูุฑุงุจุท ุญููููุ</h5>
  <ul>
    {% if participant.status == "under_review" %}
      <li>โณ <strong>ููุฏ ุงููุฑุงุฌุนุฉ:</strong> ูุนุชุจุฑ ูุฐุง ุงูุฑุงุจุท <strong>ุณูุฏ ุงุณุชูุงู ุงูุทูุจ</strong> ูุญูุธ ุญูููู ุญุชู ูุชู ุงูุจุช ูู ุงูุทูุจูุฉ.</li>
    {% elif participant.status == "approved" %}
      <li>โ <strong>ููุจูู:</strong> ุนูุฏ ุงูููุงููุฉุ ูุตุจุญ ูุฐุง ุงูุฑุงุจุท <strong>ุณูุฏ ุงุณุชูุงู ูุจูุบ</strong> ููุซุจุช ุฏูุนู ููููุฑุฏ.</li>
    {% else %}
      <li>โ <strong>ูุฑููุถ:</strong> ูู ุญุงูุฉ ุงูุฑูุถุ ูุนุชุจุฑ ุงูุฑุงุจุท ุจูุซุงุจุฉ <strong>ุฅุดุนุงุฑ ุฅูุบุงุก</strong>ุ ูุฅุฐุง ููุช ูุฏ ุฏูุนุชุ ูุฅูุตุงู ุงูุฏูุน ูุตุจุญ <strong>ุณูุฏ ุงุณุชุฑุฌุงุน</strong>.</li>
    {% endif %}
  </ul>

  

  <p>
    ๐ก๏ธ ูู ุญุงู ููุฏุงู ุงูุฑุงุจุทุ ููููู ุงูุชูุงุตู ูุน ุงููุณูุท ุฃู ูุฑูู ุฏุนู ุงูููุตุฉ ูุงุณุชุฑุฌุงุน ุชูุงุตูู ุทูุจู.
  </p>
  
  <div class="alert alert-info d-flex align-items-center justify-content-between">
    <div>
      ๐ <strong>ุฑุงุจุท ุทูุจู:</strong> 
      <a href="{{ request.url }}" class="text-primary" target="_blank" id="orderLink">{{ request.url }}</a>
    </div>
    <button class="btn btn-sm btn-outline-primary" onclick="copyOrderLink()">
      <i class="bi bi-clipboard"></i> ูุณุฎ
    </button>
  </div>
  
  <script>
  function copyOrderLink() {
    const link = document.getElementById("orderLink").textContent;
    navigator.clipboard.writeText(link).then(() => {
      alert("โ ุชู ูุณุฎ ุงูุฑุงุจุท ุจูุฌุงุญ!");
    }).catch(err => {
      console.error("โ ูุดู ุงููุณุฎ:", err);
    });
  }
  </script>
  
</div>

      <!-- โ๏ธ ุชูุถูุญ ุงูุฅุฌุฑุงุก ุจูุงุกู ุนูู ุงูุญุงูุฉ -->
      <div class="mt-4 p-3 border rounded">
        <h5>โ๏ธ ูุนูููุงุช ูุงูุฉ</h5>
        <ul>
          {% if participant.status == "under_review" %}
            <li>๐ ุทูุจู ูุง ูุฒุงู <strong>ููุฏ ุงููุฑุงุฌุนุฉ</strong>. ูุฑุฌู ุงูุชุธุงุฑ ุงูุชุญุฏูุซ ุงูุฑุณูู ูู ุงูุฅุฏุงุฑุฉ.</li>
          {% elif participant.status == "approved" %}
            <li>โ ุงูุทูุจ ููุจููุ ููุนุชุจุฑ ูุฐุง ุงููุณุชูุฏ <strong>ุณูุฏ ุงุณุชูุงู ุงููุจูุบ</strong>.</li>
            <li>๐ก ููููู ุงุณุชุฎุฏุงูู ูุฅุซุจุงุช ุชุญููู ุงููุจูุบ ููููุฑุฏ ุนูุฏ ุงูุญุงุฌุฉ.</li>
          {% else %}
            <li>โ ุงูุทูุจ ูุฑููุถ.</li>
            <li>๐ณ ูู ุญุงู ุชู ุฑูุถ ุงูุทูุจ ุจุงูุฎุทุฃ ุฃู ุชู ุงุณุชุฑุฏุงุฏ ุงููุจูุบุ ุณูููู ุฅูุตุงู ุงูุฏูุน ุจูุซุงุจุฉ <strong>ุณูุฏ ุงุณุชุฑุฌุงุน</strong>.</li>
          {% endif %}
        </ul>
      </div>

     

    </div>
  </div>
</div>
{% endblock %}
