{% extends "base1.html" %}
{% block title %}Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„ÙˆØ³ÙŠØ·{% endblock %}
{% block content %}
<div class="container-fluid p-4">
  <!-- Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ØµÙØ­Ø© -->
  <div class="row mb-4">
    <div class="col text-center">
      <h2 class="display-5">ðŸŽ¯ Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„ÙˆØ³ÙŠØ· - {{ user.username }}</h2>
    </div>
  </div>
  <div class="row">
    <!-- Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠ Ù„Ù„ØªÙ†Ù‚Ù„ -->
    <div class="col-md-3 mb-4">
      <div class="list-group shadow">
        <a href="#" class="list-group-item list-group-item-action active" data-section="home_section"> 
          <i class="bi bi-speedometer2"></i> Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
        </a>
        <a href="#" class="list-group-item list-group-item-action" data-section="orders_section">
          <i class="bi bi-card-list"></i> Ø§Ù„Ø·Ù„Ø¨Ø§Øª
        </a>
        <a href="#" class="list-group-item list-group-item-action" data-section="add_order_section">
          <i class="bi bi-plus-circle"></i> Ø§Ø¨Ø¯Ø§ ØªØ¬Ø§Ø±ØªÙƒ
        </a>
      </div>
    </div>
    <!-- Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ Ø§Ù„Ø°ÙŠ Ø³ÙŠØªÙ… ØªØ­Ù…ÙŠÙ„Ù‡ Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠÙ‹Ø§ -->
    <div class="col-md-9" id="content-area">
      <!-- Ø³ÙŠØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ù‡Ù†Ø§ Ø¹Ù†Ø¯ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù‚Ø³Ù… -->
    </div>
  </div>
</div>

<script>
  // Ø¯Ø§Ù„Ø© Ù„ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ù…Ø·Ù„ÙˆØ¨ Ø¹Ø¨Ø± AJAX
  function loadSection(section) {
    let endpoint = "/dashboard/" + section;
    fetch(endpoint)
      .then(response => response.text())
      .then(html => {
        document.getElementById("content-area").innerHTML = html;
      })
      .catch(error => console.error("Error loading section:", error));
  }

  document.addEventListener("DOMContentLoaded", function() {
    // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ (Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©) Ø¹Ù†Ø¯ ÙØªØ­ Ø§Ù„ØµÙØ­Ø©
    loadSection("home_section");

    // Ø¥Ø¶Ø§ÙØ© Ù…Ø³ØªÙ…Ø¹ÙŠ Ø§Ù„Ù†Ù‚Ø± Ù„Ø¹Ù†Ø§ØµØ± Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ©
    const navLinks = document.querySelectorAll(".list-group-item");
    navLinks.forEach(link => {
      link.addEventListener("click", function(e) {
        e.preventDefault();
        navLinks.forEach(l => l.classList.remove("active"));
        this.classList.add("active");
        let section = this.getAttribute("data-section");
        loadSection(section);
      });
    });
  });
</script>
{% endblock %}
